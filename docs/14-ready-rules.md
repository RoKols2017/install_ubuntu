# Правила готовности (Ready)

Эти правила защищают от ошибок при развёртывании и эксплуатации.

## 1. Обязательные проверки (gate)
Перед любыми изменениями:
```bash
sudo bash scripts/00-preflight-check.sh
```

После каждого этапа:
```bash
sudo bash scripts/99-ready-checks.sh
```

## 2. Стоп‑условия
Нельзя продолжать, если:
- `docker compose config` возвращает ошибку
- `scripts/99-ready-checks.sh` завершился с ошибкой
- сервисы `supabase_db`, `pgbouncer`, `redis`, `n8n` не запущены

## 3. Минимальный протокол
1. Preflight → OK
2. Изменения → OK
3. Ready‑checks → OK
4. Только после этого переход к следующему этапу

## 4. Рекомендации
1. Выполняйте изменения в отдельном окне/сеансе.
2. Фиксируйте шаги в журнале (команды, время, результат).
3. Храните актуальные бэкапы перед изменениями.

## Источники
- https://docs.docker.com/compose/reference/config/
